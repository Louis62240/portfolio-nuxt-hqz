##
# You should look at the following URL's in order to grasp a solid understanding
# of Nginx configuration files in order to fully unleash the power of Nginx.
# https://www.nginx.com/resources/wiki/start/
# https://www.nginx.com/resources/wiki/start/topics/tutorials/config_pitfalls/
# https://wiki.debian.org/Nginx/DirectoryStructure
##

# Default server configuration
#
server {
	listen 80;
	listen [::]:80;

	# Ici, remplace par ton nom de domaine ou l'adresse IP si tu en as un
	server_name 51.210.97.104;  # ou ton_domaine.com

	# Configuration du proxy pour rediriger vers l'application Nuxt.js
	location / {
		proxy_pass http://localhost:3000;  # Nuxt.js fonctionne par défaut sur le port 3000
		proxy_http_version 1.1;
		proxy_set_header Upgrade $http_upgrade;
		proxy_set_header Connection 'upgrade';
		proxy_set_header Host $host;
		proxy_cache_bypass $http_upgrade;
	}

	# Par défaut, on peut garder le répertoire racine, même si non utilisé ici
	root /var/www/html;

	# Ajoute les fichiers index par défaut si nécessaires
	index index.html index.htm;

	# Gestion des erreurs 404 (si nécessaire)
	error_page 404 /404.html;
	location = /404.html {
		internal;
	}

	# Désactiver l'accès aux fichiers cachés comme .htaccess (optionnel)
	location ~ /\.ht {
		deny all;
	}
}


 
